// ============================================================================
// è®¤è¯ç›¸å…³APIæ¥å£å°è£… - å¤„ç†ç”¨æˆ·ç™»å½•ã€æ³¨å†Œç­‰è®¤è¯æ“ä½œ
// ============================================================================

// ğŸ”¥ ä¾èµ–å¯¼å…¥ï¼šå°è£…å¥½çš„HTTPè¯·æ±‚å®ä¾‹
import request from './request'                           // å¯¼å…¥é…ç½®å¥½çš„axioså®ä¾‹

// ============================================================================
// ğŸ”¥ è®¤è¯APIå¯¹è±¡ï¼šå°è£…æ‰€æœ‰è®¤è¯ç›¸å…³çš„æ¥å£è°ƒç”¨
// ============================================================================
export const authAPI = {
  /**
   * ç”¨æˆ·ç™»å½•æ¥å£
   * @param {Object} data - ç™»å½•å‡­æ®æ•°æ®
   * @param {string} data.username - ç”¨æˆ·å
   * @param {string} data.password - å¯†ç 
   * @returns {Promise} è¿”å›åŒ…å«tokenå’Œç”¨æˆ·ä¿¡æ¯çš„Promise
   * @description å‘é€ç™»å½•è¯·æ±‚ï¼ŒéªŒè¯ç”¨æˆ·èº«ä»½å¹¶è¿”å›è®¤è¯ä¿¡æ¯
   */
  login(data) {
    return request({
      url: '/auth/login',                                 // ğŸ” ç™»å½•æ¥å£è·¯å¾„
      method: 'post',                                    // ğŸ“ HTTPæ–¹æ³•ï¼šPOSTï¼Œç”¨äºæäº¤æ•æ„Ÿä¿¡æ¯
      data                                                // ğŸ“¦ è¯·æ±‚ä½“ï¼šåŒ…å«ç”¨æˆ·åå’Œå¯†ç çš„ç™»å½•å‡­æ®
    })
  },

  /**
   * ç”¨æˆ·æ³¨å†Œæ¥å£
   * @param {Object} data - ç”¨æˆ·æ³¨å†Œæ•°æ®
   * @param {string} data.username - ç”¨æˆ·å
   * @param {string} data.email - é‚®ç®±åœ°å€
   * @param {string} data.password - å¯†ç 
   * @returns {Promise} è¿”å›æ³¨å†Œç»“æœçš„Promise
   * @description åˆ›å»ºæ–°ç”¨æˆ·è´¦æˆ·ï¼ŒéªŒè¯ç”¨æˆ·ä¿¡æ¯å¹¶ä¿å­˜åˆ°æ•°æ®åº“
   */
  register(data) {
    return request({
      url: '/auth/register',                              // ğŸ‘¤ æ³¨å†Œæ¥å£è·¯å¾„
      method: 'post',                                    // ğŸ“ HTTPæ–¹æ³•ï¼šPOSTï¼Œç”¨äºåˆ›å»ºæ–°èµ„æº
      data                                                // ğŸ“¦ è¯·æ±‚ä½“ï¼šåŒ…å«ç”¨æˆ·æ³¨å†Œä¿¡æ¯çš„å®Œæ•´æ•°æ®
    })
  },

  /**
   * è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯æ¥å£
   * @returns {Promise} è¿”å›ç”¨æˆ·è¯¦ç»†ä¿¡æ¯çš„Promise
   * @description æ ¹æ®å½“å‰tokenè·å–ç™»å½•ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ï¼Œtokené€šè¿‡è¯·æ±‚å¤´è‡ªåŠ¨ä¼ é€’
   */
  getUserInfo() {
    return request({
      url: '/auth/userinfo',                              // ğŸ“‹ ç”¨æˆ·ä¿¡æ¯æ¥å£è·¯å¾„
      method: 'get'                                      // ğŸ“ HTTPæ–¹æ³•ï¼šGETï¼Œç”¨äºè·å–èµ„æºä¿¡æ¯
    })
  },

  /**
   * ç”¨æˆ·é€€å‡ºç™»å½•æ¥å£
   * @returns {Promise} è¿”å›é€€å‡ºæ“ä½œç»“æœçš„Promise
   * @description ä½¿å½“å‰tokenå¤±æ•ˆï¼Œæ¸…ç†æœåŠ¡å™¨ç«¯ä¼šè¯çŠ¶æ€
   */
  logout() {
    return request({
      url: '/auth/logout',                                // ğŸšª é€€å‡ºç™»å½•æ¥å£è·¯å¾„
      method: 'post'                                     // ğŸ“ HTTPæ–¹æ³•ï¼šPOSTï¼Œç”¨äºæ‰§è¡ŒæœåŠ¡ç«¯æ“ä½œ
    })
  }
}
