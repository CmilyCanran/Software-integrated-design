<template>
  <div class="dashboard-container">
    <el-container>
      <!-- ä½¿ç”¨å¯å¤ç”¨çš„AppHeaderç»„ä»¶ -->
      <AppHeader title="æœè£…é”€å”®ç³»ç»Ÿ" />

      <el-main>

        <el-row :gutter="20" class="stats-row">
          <el-col :span="6">
            <el-card class="stats-card">
              <div class="stats-content">
                <el-icon class="stats-icon"><User /></el-icon>
                <div class="stats-info">
                  <h3>ç”¨æˆ·æ€»æ•°</h3>
                  <p class="stats-number">1,234</p>
                </div>
              </div>
            </el-card>
          </el-col>

          <el-col :span="6">
            <el-card class="stats-card">
              <div class="stats-content">
                <el-icon class="stats-icon"><ShoppingCart /></el-icon>
                <div class="stats-info">
                  <h3>å•†å“æ•°é‡</h3>
                  <p class="stats-number">567</p>
                </div>
              </div>
            </el-card>
          </el-col>

          <el-col :span="6">
            <el-card class="stats-card">
              <div class="stats-content">
                <el-icon class="stats-icon"><Document /></el-icon>
                <div class="stats-info">
                  <h3>è®¢å•æ€»æ•°</h3>
                  <p class="stats-number">890</p>
                </div>
              </div>
            </el-card>
          </el-col>

          <el-col :span="6">
            <el-card class="stats-card">
              <div class="stats-content">
                <el-icon class="stats-icon"><Money /></el-icon>
                <div class="stats-info">
                  <h3>é”€å”®é¢</h3>
                  <p class="stats-number">Â¥12,345</p>
                </div>
              </div>
            </el-card>
          </el-col>
        </el-row>

        <el-row :gutter="20" class="content-row">
          <el-col :span="16">
            <el-card>
              <template #header>
                <h3>å¿«é€Ÿæ“ä½œ</h3>
              </template>
              <div class="quick-actions">
                <el-button type="primary" size="large" icon="Plus">
                  æ·»åŠ å•†å“
                </el-button>
                <el-button type="success" size="large" icon="ShoppingCart">
                  æŸ¥çœ‹è®¢å•
                </el-button>
                <el-button type="info" size="large" icon="User">
                  ç”¨æˆ·ç®¡ç†
                </el-button>
                <el-button type="warning" size="large" icon="Setting">
                  ç³»ç»Ÿè®¾ç½®
                </el-button>
              </div>
            </el-card>
          </el-col>

          <el-col :span="8">
            <el-card>
              <template #header>
                <h3>ç³»ç»Ÿä¿¡æ¯</h3>
              </template>
              <div class="system-info">
                <p><strong>ç‰ˆæœ¬:</strong> v1.0.0</p>
                <p><strong>ç¯å¢ƒ:</strong> å¼€å‘ç¯å¢ƒ</p>
                <p><strong>æœ€åæ›´æ–°:</strong> {{ formatDate(new Date()) }}</p>
              </div>
            </el-card>
          </el-col>
        </el-row>
      </el-main>
    </el-container>
  </div>
</template>

<script setup lang="ts">
// ============================================================================
// ğŸ“¦ ç»„ä»¶å¯¼å…¥
// ============================================================================

import AppHeader from '@/components/AppHeader.vue'      // å¯¼å…¥å¯å¤ç”¨çš„å¤´éƒ¨ç»„ä»¶
import { useAuthStore } from '@/stores/auth'            // å¯¼å…¥è®¤è¯çŠ¶æ€ç®¡ç†
import dayjs from 'dayjs'                                // å¯¼å…¥æ—¥æœŸå¤„ç†åº“

// ============================================================================
// ğŸ¯ å“åº”å¼æ•°æ®
// ============================================================================

/**
 * ğŸ” è®¤è¯çŠ¶æ€ç®¡ç†
 *
 * ä»Pinia storeä¸­è·å–ç”¨æˆ·è®¤è¯ä¿¡æ¯ï¼Œç”¨äºæ˜¾ç¤ºç”¨æˆ·åå’Œè§’è‰²ä¿¡æ¯
 */
const authStore = useAuthStore()

// ============================================================================
// ğŸ› ï¸ å·¥å…·æ–¹æ³•
// ============================================================================

/**
 * ğŸ“… æ—¥æœŸæ ¼å¼åŒ–æ–¹æ³•
 *
 * å°†æ—¥æœŸå¯¹è±¡æ ¼å¼åŒ–ä¸ºæ˜“è¯»çš„å­—ç¬¦ä¸²æ ¼å¼
 * ä½¿ç”¨dayjsåº“è¿›è¡Œæ—¥æœŸå¤„ç†ï¼Œæä¾›æ›´å¥½çš„æµè§ˆå™¨å…¼å®¹æ€§
 *
 * @param {Date} date - è¦æ ¼å¼åŒ–çš„æ—¥æœŸå¯¹è±¡
 * @returns {string} æ ¼å¼åŒ–åçš„æ—¥æœŸå­—ç¬¦ä¸² (YYYY-MM-DD HH:mm:ss)
 */
const formatDate = (date) => {
  return dayjs(date).format('YYYY-MM-DD HH:mm:ss')
}
</script>

<style scoped>
.dashboard-container {
  min-height: 100vh;
  background-color: #f5f5f5;
}

.el-main {
  padding: 80px 20px 20px 20px;
}

.stats-row {
  margin-bottom: 20px;
}

.stats-card {
  height: 120px;
}

.stats-content {
  display: flex;
  align-items: center;
  gap: 16px;
}

.stats-icon {
  font-size: 32px;
  color: #409eff;
}

.stats-info h3 {
  margin: 0 0 8px 0;
  font-size: 14px;
  color: #666;
}

.stats-number {
  margin: 0;
  font-size: 24px;
  font-weight: bold;
  color: #333;
}

.content-row {
  margin-top: 20px;
}

.quick-actions {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
}

.system-info p {
  margin: 8px 0;
  color: #666;
}
</style>
