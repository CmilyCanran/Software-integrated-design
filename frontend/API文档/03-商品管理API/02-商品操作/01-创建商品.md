---
tags:
  - APIæ–‡æ¡£
  - å•†å“
  - åˆ›å»º
created: 2025-11-21
modified: 2025-11-21
category: å•†å“API
difficulty: intermediate
---

# â• åˆ›å»ºå•†å“æ¥å£

## ğŸ“‹ æ¥å£æ¦‚è¿°

å•†å®¶åˆ›å»ºæ–°å•†å“ã€‚

## ğŸ“ è¯·æ±‚ä¿¡æ¯

- **HTTPæ–¹æ³•**: `POST`
- **URLè·¯å¾„**: `/products`
- **æƒé™è¦æ±‚**: SHOPERè§’è‰²

## ğŸ“¥ è¯·æ±‚å‚æ•°

### è¯·æ±‚ä½“ (Request Body)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| productName | string | æ˜¯ | å•†å“åç§° |
| description | string | å¦ | å•†å“æè¿° |
| price | number | æ˜¯ | å•†å“ä»·æ ¼ |
| discount | number | å¦ | æŠ˜æ‰£ç‡ |
| stockQuantity | number | æ˜¯ | åº“å­˜æ•°é‡ |
| isAvailable | boolean | æ˜¯ | æ˜¯å¦ä¸Šæ¶ |
| category | string | å¦ | å•†å“åˆ†ç±» |
| brand | string | å¦ | å•†å“å“ç‰Œ |
| color | string | å¦ | å•†å“é¢œè‰² |
| size | string | å¦ | å•†å“å°ºå¯¸ |
| tags | array | å¦ | å•†å“æ ‡ç­¾æ•°ç»„ |

## ğŸ“¤ è¯·æ±‚ç¤ºä¾‹

```json
{
  "productName": "æ–°æ¬¾Tæ¤",
  "description": "çº¯æ£‰èˆ’é€‚Tæ¤",
  "price": 89.99,
  "discount": 0,
  "stockQuantity": 200,
  "isAvailable": true,
  "category": "ç”·è£…",
  "brand": "èˆ’é€‚å“ç‰Œ",
  "color": "ç™½è‰²",
  "size": "L",
  "tags": ["æ–°å“", "çº¯æ£‰"]
}
```

## âœ… æˆåŠŸå“åº”

### å“åº”ç»“æ„

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| success | boolean | æ“ä½œæ˜¯å¦æˆåŠŸ |
| code | number | çŠ¶æ€ç  |
| message | string | å“åº”æ¶ˆæ¯ |
| data | object | åˆ›å»ºçš„å•†å“ä¿¡æ¯ |
| data.id | number | å•†å“ID |
| data.productName | string | å•†å“åç§° |
| data.description | string | å•†å“æè¿° |
| data.price | number | å•†å“ä»·æ ¼ |
| data.salesCount | number | é”€å”®æ•°é‡ |
| data.discount | number | æŠ˜æ‰£ç‡ |
| data.stockQuantity | number | åº“å­˜æ•°é‡ |
| data.isAvailable | boolean | æ˜¯å¦ä¸Šæ¶ |
| data.creatorId | number | åˆ›å»ºè€…ID |
| data.productData | object | å•†å“æ‰©å±•æ•°æ® |
| data.createdAt | string | åˆ›å»ºæ—¶é—´ |
| data.updatedAt | string | æ›´æ–°æ—¶é—´ |

### å“åº”ç¤ºä¾‹

```json
{
  "success": true,
  "code": 200,
  "message": "å•†å“åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": 2,
    "productName": "æ–°æ¬¾Tæ¤",
    "description": "çº¯æ£‰èˆ’é€‚Tæ¤",
    "price": 89.99,
    "salesCount": 0,
    "discount": 0,
    "stockQuantity": 200,
    "isAvailable": true,
    "creatorId": 1,
    "productData": {
      "image_data": {
        "main_image": null,
        "gallery": [],
        "thumbnails": null,
        "total_images": 0
      },
      "specifications": {
        "category": "ç”·è£…",
        "brand": "èˆ’é€‚å“ç‰Œ",
        "color": "ç™½è‰²",
        "size": "L"
      },
      "tags": ["æ–°å“", "çº¯æ£‰"],
      "extended_attributes": {}
    },
    "createdAt": "2025-11-21T10:30:45.123",
    "updatedAt": "2025-11-21T10:30:45.123"
  }
}
```

## âŒ é”™è¯¯å“åº”

### é”™è¯¯å“åº”ç¤ºä¾‹ï¼ˆå•†å“åå·²å­˜åœ¨ï¼‰

```json
{
  "success": false,
  "code": 400,
  "message": "å•†å“åç§°å·²å­˜åœ¨",
  "data": null
}
```

### é”™è¯¯å“åº”ç¤ºä¾‹ï¼ˆæƒé™ä¸è¶³ï¼‰

```json
{
  "success": false,
  "code": 403,
  "message": "æƒé™ä¸è¶³ï¼Œæ— æ³•è®¿é—®æ­¤èµ„æº",
  "data": null
}
```

## ğŸ§ª å‰ç«¯è°ƒç”¨ç¤ºä¾‹

```javascript
import { api } from '@/api/request'
import type { Product, ProductCreateRequest } from '@/types/product'

// åˆ›å»ºå•†å“å‡½æ•°
async function createProduct(data: ProductCreateRequest): Promise<Product> {
  try {
    const response = await api.post<Product>('/products', data)
    return response
  } catch (error) {
    console.error('åˆ›å»ºå•†å“å¤±è´¥:', error)
    throw error
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const productData: ProductCreateRequest = {
  productName: "æ–°æ¬¾Tæ¤",
  description: "çº¯æ£‰èˆ’é€‚Tæ¤",
  price: 89.99,
  discount: 0,
  stockQuantity: 200,
  isAvailable: true,
  category: "ç”·è£…",
  brand: "èˆ’é€‚å“ç‰Œ",
  color: "ç™½è‰²",
  size: "L",
  tags: ["æ–°å“", "çº¯æ£‰"]
}

createProduct(productData)
  .then(product => {
    console.log('å•†å“åˆ›å»ºæˆåŠŸ:', product)
    // æ›´æ–°å•†å“åˆ—è¡¨
    productStore.addProduct(product)
  })
  .catch(error => {
    console.error('åˆ›å»ºå•†å“å¤±è´¥:', error)
    // é”™è¯¯å¤„ç†
    if (error.response?.status === 400) {
      console.error('å•†å“åç§°å·²å­˜åœ¨')
    } else if (error.response?.status === 403) {
      console.error('æƒé™ä¸è¶³ï¼Œè¯·ç¡®è®¤æ‚¨æ˜¯å•†å®¶è§’è‰²')
    }
  })
```