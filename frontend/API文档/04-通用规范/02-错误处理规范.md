---
tags:
  - APIæ–‡æ¡£
  - è§„èŒƒ
  - é”™è¯¯å¤„ç†
created: 2025-11-21
modified: 2025-11-21
category: é€šç”¨è§„èŒƒ
difficulty: intermediate
---

# âš ï¸ é”™è¯¯å¤„ç†è§„èŒƒ

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£å®šä¹‰äº†APIçš„é”™è¯¯å¤„ç†è§„èŒƒï¼ŒåŒ…æ‹¬é”™è¯¯ç ã€é”™è¯¯æ¶ˆæ¯å’Œé”™è¯¯å“åº”æ ¼å¼ã€‚

## ğŸ“Š é”™è¯¯ç è§„èŒƒ

### å®¢æˆ·ç«¯é”™è¯¯ (4xx)

| é”™è¯¯ç  | HTTPçŠ¶æ€ç  | è¯´æ˜ |
|--------|------------|------|
| 400 | 400 | è¯·æ±‚å‚æ•°é”™è¯¯ |
| 401 | 401 | æœªè®¤è¯ |
| 403 | 403 | æƒé™ä¸è¶³ |
| 404 | 404 | èµ„æºä¸å­˜åœ¨ |
| 409 | 409 | èµ„æºå†²çª |
| 422 | 422 | è¯·æ±‚å®ä½“æ— æ³•å¤„ç† |
| 429 | 429 | è¯·æ±‚è¿‡äºé¢‘ç¹ |

### æœåŠ¡å™¨é”™è¯¯ (5xx)

| é”™è¯¯ç  | HTTPçŠ¶æ€ç  | è¯´æ˜ |
|--------|------------|------|
| 500 | 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |
| 502 | 502 | ç½‘å…³é”™è¯¯ |
| 503 | 503 | æœåŠ¡ä¸å¯ç”¨ |
| 504 | 504 | ç½‘å…³è¶…æ—¶ |

## ğŸ“‹ é€šç”¨é”™è¯¯æ¶ˆæ¯

### è®¤è¯ç›¸å…³

| é”™è¯¯ç  | é”™è¯¯æ¶ˆæ¯ | è¯´æ˜ |
|--------|----------|------|
| 401 | ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ | ç™»å½•å‡­æ®æ— æ•ˆ |
| 401 | è®¤è¯å¤±è´¥ï¼Œè¯·å…ˆç™»å½• | æœªæä¾›æœ‰æ•ˆä»¤ç‰Œ |
| 401 | ä»¤ç‰Œå·²è¿‡æœŸ | JWTä»¤ç‰Œè¿‡æœŸ |
| 403 | æƒé™ä¸è¶³ï¼Œæ— æ³•è®¿é—®æ­¤èµ„æº | è§’è‰²æƒé™ä¸è¶³ |

### èµ„æºç›¸å…³

| é”™è¯¯ç  | é”™è¯¯æ¶ˆæ¯ | è¯´æ˜ |
|--------|----------|------|
| 404 | è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨ | èµ„æºæœªæ‰¾åˆ° |
| 409 | èµ„æºå·²å­˜åœ¨ | åˆ›å»ºæ—¶èµ„æºé‡å¤ |
| 422 | è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥ | å‚æ•°æ ¼å¼é”™è¯¯ |

### æœåŠ¡å™¨ç›¸å…³

| é”™è¯¯ç  | é”™è¯¯æ¶ˆæ¯ | è¯´æ˜ |
|--------|----------|------|
| 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ | æœªçŸ¥æœåŠ¡å™¨é”™è¯¯ |
| 503 | æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ | æœåŠ¡å™¨ç»´æŠ¤ä¸­ |

## ğŸ“‹ é”™è¯¯å“åº”æ ¼å¼

### åŸºæœ¬ç»“æ„

```json
{
  "success": false,
  "code": 400,
  "message": "é”™è¯¯æè¿°",
  "data": null
}
```

### å­—æ®µè¯´æ˜

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| success | boolean | æ“ä½œæ˜¯å¦æˆåŠŸ |
| code | number | é”™è¯¯çŠ¶æ€ç  |
| message | string | é”™è¯¯æ¶ˆæ¯ |
| data | null | é”™è¯¯æ•°æ®ï¼ˆé€šå¸¸ä¸ºnullï¼‰ |

## ğŸ“‹ å…·ä½“é”™è¯¯ç¤ºä¾‹

### 400 é”™è¯¯ - è¯·æ±‚å‚æ•°é”™è¯¯

```json
{
  "success": false,
  "code": 400,
  "message": "ç”¨æˆ·åå·²å­˜åœ¨",
  "data": null
}
```

### 401 é”™è¯¯ - æœªè®¤è¯

```json
{
  "success": false,
  "code": 401,
  "message": "è®¤è¯å¤±è´¥ï¼Œè¯·å…ˆç™»å½•",
  "data": null
}
```

### 403 é”™è¯¯ - æƒé™ä¸è¶³

```json
{
  "success": false,
  "code": 403,
  "message": "æƒé™ä¸è¶³ï¼Œæ— æ³•è®¿é—®æ­¤èµ„æº",
  "data": null
}
```

### 404 é”™è¯¯ - èµ„æºä¸å­˜åœ¨

```json
{
  "success": false,
  "code": 404,
  "message": "è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨",
  "data": null
}
```

### 500 é”™è¯¯ - æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

```json
{
  "success": false,
  "code": 500,
  "message": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•",
  "data": null
}
```

## ğŸ§ª å‰ç«¯é”™è¯¯å¤„ç†ç¤ºä¾‹

```javascript
import { ElMessage } from 'element-plus'

// ç»Ÿä¸€é”™è¯¯å¤„ç†å‡½æ•°
function handleError(error) {
  if (error.response) {
    // æœåŠ¡å™¨è¿”å›é”™è¯¯å“åº”
    const { code, message } = error.response.data
    switch (code) {
      case 401:
        // è®¤è¯é”™è¯¯ï¼Œæ¸…é™¤æœ¬åœ°è®¤è¯ä¿¡æ¯å¹¶è·³è½¬ç™»å½•
        localStorage.removeItem('token')
        router.push('/login')
        ElMessage.error('è¯·é‡æ–°ç™»å½•')
        break
      case 403:
        ElMessage.error('æƒé™ä¸è¶³')
        break
      case 404:
        ElMessage.error('è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨')
        break
      case 500:
        ElMessage.error('æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•')
        break
      default:
        ElMessage.error(message || 'è¯·æ±‚å¤±è´¥')
    }
  } else if (error.request) {
    // ç½‘ç»œé”™è¯¯
    ElMessage.error('ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥')
  } else {
    // å…¶ä»–é”™è¯¯
    ElMessage.error('è¯·æ±‚é…ç½®é”™è¯¯')
  }
}

// ä½¿ç”¨ç¤ºä¾‹
api.post('/auth/login', { username: 'test', password: '123' })
  .then(response => {
    console.log('ç™»å½•æˆåŠŸ:', response)
  })
  .catch(handleError)
```