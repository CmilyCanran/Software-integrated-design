---
tags:
  - Vueç»„ä»¶
  - å•æ–‡ä»¶ç»„ä»¶
  - SFC
  - ç»„ä»¶ç»“æ„
  - Vue3
  - script-setup
created: 2025-11-18
modified: 2025-11-18
category: Vueæ ¸å¿ƒæ¦‚å¿µ
difficulty: beginner
---

# Vueå•æ–‡ä»¶ç»„ä»¶ç»“æ„è¯¦è§£

> **å­¦ä¹ ç›®æ ‡**ï¼šæ·±å…¥ç†è§£Vueå•æ–‡ä»¶ç»„ä»¶(SFC)çš„ä¸‰ä¸ªç»„æˆéƒ¨åˆ†ï¼ŒæŒæ¡`<script setup>`è¯­æ³•ï¼Œå­¦ä¼šå¦‚ä½•ç»„ç»‡å¯ç»´æŠ¤çš„ç»„ä»¶ç»“æ„

## ğŸ¯ æœ¬ç« æ¦‚è§ˆ

| å†…å®¹ | é¢„è®¡æ—¶é—´ | éš¾åº¦ | çŠ¶æ€ |
|------|----------|------|------|
| å•æ–‡ä»¶ç»„ä»¶æ¦‚å¿µ | 10åˆ†é’Ÿ | â­ | â³ |
| Templateæ¨¡æ¿ç»“æ„ | 20åˆ†é’Ÿ | â­â­ | â³ |
| Scriptè„šæœ¬ç»“æ„ | 25åˆ†é’Ÿ | â­â­â­ | â³ |
| Styleæ ·å¼ç»“æ„ | 20åˆ†é’Ÿ | â­â­ | â³ |
| ç»„ä»¶ç»„ç»‡æœ€ä½³å®è·µ | 15åˆ†é’Ÿ | â­â­ | â³ |

---

## ğŸ“‹ ä»€ä¹ˆæ˜¯å•æ–‡ä»¶ç»„ä»¶(SFC)ï¼Ÿ

### SFCçš„å®šä¹‰

å•æ–‡ä»¶ç»„ä»¶(Single File Component, SFC)æ˜¯Vueçš„ç‰¹è‰²åŠŸèƒ½ï¼Œå®ƒå°†ç»„ä»¶çš„**æ¨¡æ¿ã€é€»è¾‘å’Œæ ·å¼**å°è£…åœ¨åŒä¸€ä¸ª`.vue`æ–‡ä»¶ä¸­ï¼š

```vue
<!-- MyComponent.vue -->
<template>
  <!-- HTMLæ¨¡æ¿ - ç»„ä»¶çš„ç»“æ„ -->
</template>

<script>
  // JavaScripté€»è¾‘ - ç»„ä»¶çš„è¡Œä¸º
</script>

<style>
  /* CSSæ ·å¼ - ç»„ä»¶çš„å¤–è§‚ */
</style>
```

### ä¸ºä»€ä¹ˆéœ€è¦å•æ–‡ä»¶ç»„ä»¶ï¼Ÿ

#### ğŸ”„ ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜

```javascript
// ä¼ ç»Ÿæ–¹å¼ï¼šæ–‡ä»¶åˆ†æ•£ï¼Œéš¾ä»¥ç®¡ç†
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ my-component.js          // ç»„ä»¶é€»è¾‘
â”‚   â”œâ”€â”€ my-component.html        // ç»„ä»¶æ¨¡æ¿
â”‚   â””â”€â”€ my-component.css         // ç»„ä»¶æ ·å¼
â””â”€â”€ pages/
    â”œâ”€â”€ home.js                  // é¡µé¢é€»è¾‘
    â”œâ”€â”€ home.html               // é¡µé¢æ¨¡æ¿
    â””â”€â”€ home.css                // é¡µé¢æ ·å¼
```

**ä¼ ç»Ÿæ–¹å¼çš„ç—›ç‚¹**ï¼š
- âŒ **æ–‡ä»¶åˆ†æ•£** - ä¸€ä¸ªç»„ä»¶éœ€è¦å¤šä¸ªæ–‡ä»¶
- âŒ **å…³è”å›°éš¾** - æ–‡ä»¶ä¹‹é—´çš„å…³ç³»ä¸æ˜ç¡®
- âŒ **é‡æ„éº»çƒ¦** - ä¿®æ”¹ç»„ä»¶è¦åŒæ—¶æ”¹å¤šä¸ªæ–‡ä»¶
- âŒ **åä½œå¤æ‚** - å›¢é˜Ÿæˆå‘˜å®¹æ˜“é—æ¼ç›¸å…³æ–‡ä»¶

#### âœ¨ å•æ–‡ä»¶ç»„ä»¶çš„ä¼˜åŠ¿

```vue
<!-- å•æ–‡ä»¶ç»„ä»¶ï¼šä¸€åˆ‡éƒ½åœ¨ä¸€èµ· -->
<!-- MyComponent.vue - è‡ªåŒ…å«çš„ç»„ä»¶ -->
<template>
  <div class="my-component">
    <h1>{{ title }}</h1>
    <p>{{ description }}</p>
    <button @click="handleClick">ç‚¹å‡»æˆ‘</button>
  </div>
</template>

<script setup>
// æ‰€æœ‰é€»è¾‘éƒ½åœ¨è¿™é‡Œï¼Œæ–¹ä¾¿ç»´æŠ¤
import { ref } from 'vue'

const title = ref('æˆ‘çš„ç»„ä»¶')
const description = ref('è¿™æ˜¯ä¸€ä¸ªå•æ–‡ä»¶ç»„ä»¶')

function handleClick() {
  alert('æŒ‰é’®è¢«ç‚¹å‡»äº†ï¼')
}
</script>

<style scoped>
/* æ ·å¼åªä½œç”¨äºå½“å‰ç»„ä»¶ */
.my-component {
  padding: 20px;
  border: 1px solid #ddd;
  border-radius: 8px;
}
</style>
```

**SFCçš„ä¼˜åŠ¿**ï¼š
- âœ… **é›†ä¸­ç®¡ç†** - ä¸€ä¸ªæ–‡ä»¶åŒ…å«ç»„ä»¶çš„æ‰€æœ‰å†…å®¹
- âœ… **è¯­ä¹‰æ¸…æ™°** - æ¨¡æ¿ã€é€»è¾‘ã€èŒè´£åˆ†æ˜
- âœ… **å¼€å‘ä½“éªŒ** - è¯­æ³•é«˜äº®ã€æ™ºèƒ½æç¤ºã€é”™è¯¯æ£€æŸ¥
- âœ… **æ„å»ºä¼˜åŒ–** - é¢„å¤„ç†å™¨ã€æ¨¡å—åŒ–ã€ä½œç”¨åŸŸæ ·å¼

---

## ğŸ—ï¸ Templateæ¨¡æ¿ç»“æ„è¯¦è§£

### åŸºç¡€æ¨¡æ¿è¯­æ³•

```vue
<template>
  <!-- æ ¹å…ƒç´  - Vue 3æ”¯æŒå¤šä¸ªæ ¹å…ƒç´  -->
  <div class="component-wrapper">
    <!-- æ–‡æœ¬æ’å€¼ -->
    <h1>{{ message }}</h1>

    <!-- å±æ€§ç»‘å®š -->
    <img :src="imageUrl" :alt="imageAlt">

    <!-- æ¡ä»¶æ¸²æŸ“ -->
    <p v-if="isVisible">è¿™æ˜¯å¯è§çš„æ–‡æœ¬</p>
    <p v-else>è¿™æ˜¯ä¸å¯è§çš„æ–‡æœ¬</p>

    <!-- åˆ—è¡¨æ¸²æŸ“ -->
    <ul>
      <li v-for="item in items" :key="item.id">
        {{ item.name }}
      </li>
    </ul>

    <!-- äº‹ä»¶ç»‘å®š -->
    <button @click="handleClick">ç‚¹å‡»</button>
  </div>
</template>
```

### Vue 3å¤šæ ¹å…ƒç´ æ”¯æŒ

```vue
<!-- Vue 3ï¼šæ”¯æŒå¤šä¸ªæ ¹å…ƒç´  -->
<template>
  <!-- ä¸éœ€è¦åŒ…è£…div -->
  <header class="header">
    <h1>{{ title }}</h1>
  </header>

  <main class="content">
    <slot></slot>
  </main>

  <footer class="footer">
    <p>Â© {{ year }} {{ company }}</p>
  </footer>
</template>

<script setup>
const props = defineProps({
  title: String,
  year: Number,
  company: String
})
</script>
```

### æ¨¡æ¿ä¸­çš„é«˜çº§è¯­æ³•

#### åŠ¨æ€ç»„ä»¶

```vue
<template>
  <div class="component-tabs">
    <!-- åŠ¨æ€ç»„ä»¶åˆ‡æ¢ -->
    <component :is="currentComponent" />

    <!-- æˆ–è€…ä½¿ç”¨keep-aliveç¼“å­˜ç»„ä»¶çŠ¶æ€ -->
    <keep-alive>
      <component :is="currentComponent" />
    </keep-alive>
  </div>
</template>

<script setup>
import { ref, shallowRef } from 'vue'
import UserProfile from './UserProfile.vue'
import UserSettings from './UserSettings.vue'
import UserPosts from './UserPosts.vue'

// ä½¿ç”¨shallowRefé¿å…ä¸å¿…è¦çš„ç»„ä»¶é‡æ–°æ¸²æŸ“
const currentComponent = shallowRef(UserProfile)

const tabs = [
  { name: 'èµ„æ–™', component: UserProfile },
  { name: 'è®¾ç½®', component: UserSettings },
  { name: 'åŠ¨æ€', component: UserPosts }
]

function switchTab(tab) {
  currentComponent.value = tab.component
}
</script>
```

#### æ’æ§½(Slot)ç³»ç»Ÿ

```vue
<!-- ParentComponent.vue -->
<template>
  <div class="card">
    <!-- å…·åæ’æ§½ -->
    <header class="card-header">
      <slot name="header">
        <h2>é»˜è®¤æ ‡é¢˜</h2>
      </slot>
    </header>

    <!-- é»˜è®¤æ’æ§½ -->
    <main class="card-body">
      <slot></slot>
    </main>

    <!-- ä½œç”¨åŸŸæ’æ§½ -->
    <footer class="card-footer">
      <slot name="footer" :user="currentUser" :time="currentTime">
        <p>é»˜è®¤é¡µè„š</p>
      </slot>
    </footer>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const currentUser = ref({ name: 'å¼ ä¸‰', role: 'admin' })
const currentTime = ref(new Date())
</script>
```

```vue
<!-- ChildComponent.vue -->
<template>
  <Card>
    <!-- ä½¿ç”¨å…·åæ’æ§½ -->
    <template #header>
      <h1>è‡ªå®šä¹‰æ ‡é¢˜</h1>
    </template>

    <!-- ä½¿ç”¨é»˜è®¤æ’æ§½ -->
    <div class="content">
      <p>è¿™æ˜¯å¡ç‰‡çš„ä¸»è¦å†…å®¹</p>
      <p>å¯ä»¥åŒ…å«ä»»ä½•HTMLå†…å®¹</p>
    </div>

    <!-- ä½¿ç”¨ä½œç”¨åŸŸæ’æ§½ -->
    <template #footer="{ user, time }">
      <p>ç”¨æˆ·ï¼š{{ user.name }} ({{ user.role }})</p>
      <p>æ—¶é—´ï¼š{{ time.toLocaleString() }}</p>
    </template>
  </Card>
</template>
```

---

## ğŸ’» Scriptè„šæœ¬ç»“æ„è¯¦è§£

### Vue 3 `<script setup>` è¯­æ³•

#### åŸºç¡€ç”¨æ³•

```vue
<script setup>
// é¡¶å±‚å˜é‡å’Œå‡½æ•°ä¼šè‡ªåŠ¨æš´éœ²ç»™æ¨¡æ¿
import { ref, computed, onMounted } from 'vue'

// å“åº”å¼æ•°æ®
const count = ref(0)
const message = ref('Hello Vue 3')

// è®¡ç®—å±æ€§
const doubleCount = computed(() => count.value * 2)

// æ–¹æ³•
function increment() {
  count.value++
}

function decrement() {
  count.value--
}

// ç”Ÿå‘½å‘¨æœŸé’©å­
onMounted(() => {
  console.log('ç»„ä»¶å·²æŒ‚è½½')
})

// åœ¨æ¨¡æ¿ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š
// {{ count }}, {{ doubleCount }}, {{ message }}
// @click="increment", @click="decrement"
</script>
```

#### Propså’ŒEmitså®šä¹‰

```vue
<script setup>
// å®šä¹‰Props - çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„æ•°æ®
const props = defineProps({
  title: {
    type: String,
    required: true
  },
  count: {
    type: Number,
    default: 0
  },
  items: {
    type: Array,
    default: () => []
  },
  config: {
    type: Object,
    default: () => ({})
  },
  callback: Function
})

// å®šä¹‰Emits - å­ç»„ä»¶å‘çˆ¶ç»„ä»¶å‘é€äº‹ä»¶
const emit = defineEmits([
  'update',     // æ•°æ®æ›´æ–°äº‹ä»¶
  'delete',     // åˆ é™¤äº‹ä»¶
  'submit'      // æäº¤äº‹ä»¶
])

// æˆ–è€…å¸¦ç±»å‹å®šä¹‰çš„å†™æ³•
const props2 = defineProps<{
  id: number
  name: string
  isActive?: boolean
}>()

const emit2 = defineEmits<{
  change: [value: string]
  update: [id: number, value: any]
}>()

// ä½¿ç”¨Props
console.log('æ ‡é¢˜ï¼š', props.title)
console.log('æ•°é‡ï¼š', props.count)

// è§¦å‘äº‹ä»¶
function handleChange(value) {
  emit('update', value)
}

function handleDelete(id) {
  emit('delete', id)
}
</script>
```

#### ç»„ä»¶å¯¼å…¥å’Œä½¿ç”¨

```vue
<script setup>
// å¯¼å…¥å…¶ä»–ç»„ä»¶
import ChildComponent from './ChildComponent.vue'
import UtilityComponent from './UtilityComponent.vue'

// å¯¼å…¥å·¥å…·å‡½æ•°
import { formatDate, validateEmail } from '../utils/helpers'

// å¯¼å…¥Composables
import { useCounter, useFetch } from '../composables'

// ä½¿ç”¨Composables
const { count, increment, decrement } = useCounter()
const { data, loading, error } = useFetch('/api/users')

// åœ¨æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨å¯¼å…¥çš„ç»„ä»¶
// <ChildComponent />
// <UtilityComponent />
</script>

<template>
  <div>
    <ChildComponent :data="data" />
    <UtilityComponent @action="increment" />
  </div>
</template>
```

### å“åº”å¼æ•°æ®å¤„ç†

#### ref vs reactive

```vue
<script setup>
import { ref, reactive, toRef, toRefs } from 'vue'

// ref - ç”¨äºåŸºæœ¬ç±»å‹
const count = ref(0)
const message = ref('Hello')

// reactive - ç”¨äºå¯¹è±¡
const user = reactive({
  name: 'å¼ ä¸‰',
  age: 25,
  address: {
    city: 'åŒ—äº¬',
    street: 'æœé˜³åŒº'
  }
})

// toRef - åˆ›å»ºå¯¹è±¡çš„refå¼•ç”¨
const nameRef = toRef(user, 'name')

// toRefs - è§£æ„å¯¹è±¡æ—¶ä¿æŒå“åº”æ€§
const { name, age, address } = toRefs(user)

// ä½¿ç”¨æ–¹å¼
function updateUser() {
  count.value++           // reféœ€è¦.value
  user.age++              // reactiveç›´æ¥è®¿é—®
  nameRef.value = 'æå››'   // toReféœ€è¦.value
  name.value = 'ç‹äº”'      // toRefséœ€è¦.value
}
</script>
```

#### è®¡ç®—å±æ€§å’Œç›‘å¬å™¨

```vue
<script setup>
import { ref, computed, watch, watchEffect } from 'vue'

const firstName = ref('John')
const lastName = ref('Doe')
const age = ref(25)

// è®¡ç®—å±æ€§ - åªè¯»
const fullName = computed(() => {
  return `${firstName.value} ${lastName.value}`
})

// è®¡ç®—å±æ€§ - å¯è¯»å†™
const writableFullName = computed({
  get() {
    return `${firstName.value} ${lastName.value}`
  },
  set(value) {
    const names = value.split(' ')
    firstName.value = names[0] || ''
    lastName.value = names[1] || ''
  }
})

// watch - ç›‘å¬ç‰¹å®šæ•°æ®
watch(firstName, (newVal, oldVal) => {
  console.log(`åå­—ä» ${oldVal} å˜ä¸º ${newVal}`)
})

// watch - ç›‘å¬å¤šä¸ªæ•°æ®
watch([firstName, lastName], ([newFirst, newLast], [oldFirst, oldLast]) => {
  console.log('å§“åå˜åŒ–ï¼š', { newFirst, newLast, oldFirst, oldLast })
})

// watchEffect - è‡ªåŠ¨ä¾èµ–æ”¶é›†
watchEffect(() => {
  // å‡½æ•°å†…ä½¿ç”¨çš„ä»»ä½•å“åº”å¼æ•°æ®éƒ½ä¼šè¢«ç›‘å¬
  console.log(`å½“å‰å®Œæ•´å§“åï¼š${fullName.value}ï¼Œå¹´é¾„ï¼š${age.value}`)
})
</script>
```

### ç”Ÿå‘½å‘¨æœŸé’©å­

```vue
<script setup>
import {
  ref,
  onBeforeMount,
  onMounted,
  onBeforeUpdate,
  onUpdated,
  onBeforeUnmount,
  onUnmounted,
  onErrorCaptured
} from 'vue'

const data = ref(null)
const loading = ref(false)
const error = ref(null)

// ç»„ä»¶æŒ‚è½½å‰
onBeforeMount(() => {
  console.log('ç»„ä»¶å³å°†æŒ‚è½½åˆ°DOM')
  loading.value = true
})

// ç»„ä»¶æŒ‚è½½å
onMounted(() => {
  console.log('ç»„ä»¶å·²æŒ‚è½½åˆ°DOM')
  // é€šå¸¸åœ¨è¿™é‡Œå‘èµ·APIè¯·æ±‚
  fetchData()
})

// ç»„ä»¶æ›´æ–°å‰
onBeforeUpdate(() => {
  console.log('ç»„ä»¶å³å°†æ›´æ–°')
})

// ç»„ä»¶æ›´æ–°å
onUpdated(() => {
  console.log('ç»„ä»¶å·²æ›´æ–°')
})

// ç»„ä»¶å¸è½½å‰
onBeforeUnmount(() => {
  console.log('ç»„ä»¶å³å°†å¸è½½')
  // æ¸…ç†å®šæ—¶å™¨ã€å–æ¶ˆè®¢é˜…ç­‰
})

// ç»„ä»¶å¸è½½å
onUnmounted(() => {
  console.log('ç»„ä»¶å·²å¸è½½')
})

// æ•è·å­ç»„ä»¶é”™è¯¯
onErrorCaptured((err, instance, info) => {
  console.error('å­ç»„ä»¶å‘ç”Ÿé”™è¯¯ï¼š', err)
  error.value = err.message
  return false // é˜»æ­¢é”™è¯¯ç»§ç»­å‘ä¸Šä¼ æ’­
})

async function fetchData() {
  try {
    const response = await fetch('/api/data')
    data.value = await response.json()
  } catch (err) {
    error.value = err.message
  } finally {
    loading.value = false
  }
}
</script>
```

---

## ğŸ¨ Styleæ ·å¼ç»“æ„è¯¦è§£

### Scopedæ ·å¼

#### åŸºç¡€ç”¨æ³•

```vue
<style scoped>
/* scopedæ ·å¼åªä½œç”¨äºå½“å‰ç»„ä»¶ */
.card {
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 16px;
  background: white;
}

.title {
  font-size: 18px;
  font-weight: bold;
  color: #333;
}

.button {
  background: #42b883;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 4px;
  cursor: pointer;
}

.button:hover {
  background: #369870;
}
</style>
```

#### scopedæ ·å¼çš„å·¥ä½œåŸç†

```vue
<!-- Vueä¼šè‡ªåŠ¨ä¸ºscopedæ ·å¼æ·»åŠ å”¯ä¸€å±æ€§ -->
<template>
  <!-- ç¼–è¯‘å -->
  <div class="card" data-v-12345678>
    <h1 class="title" data-v-12345678>æ ‡é¢˜</h1>
    <button class="button" data-v-12345678>æŒ‰é’®</button>
  </div>
</template>

<style scoped>
/* ç¼–è¯‘å */
.card[data-v-12345678] {
  border: 1px solid #ddd;
}

.title[data-v-12345678] {
  font-size: 18px;
}

.button[data-v-12345678] {
  background: #42b883;
}
</style>
```

### CSS Modules

#### ä½¿ç”¨CSS Modules

```vue
<template>
  <!-- CSS Modulesä½¿ç”¨ :class æˆ– class="$style.class-name" -->
  <div :class="$style.card">
    <h1 :class="$style.title">æ ‡é¢˜</h1>
    <button :class="$style.button">æŒ‰é’®</button>
  </div>
</template>

<style module>
/* CSS Modulesä¼šç”Ÿæˆå”¯ä¸€çš„ç±»å */
.card {
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 16px;
}

.title {
  font-size: 18px;
  font-weight: bold;
}

.button {
  background: #42b883;
  color: white;
  border: none;
  padding: 8px 16px;
}
</style>
```

#### è‡ªå®šä¹‰æ¨¡å—å

```vue
<template>
  <div :class="classes.card">
    <h1 :class="classes.title">æ ‡é¢˜</h1>
  </div>
</template>

<style module="classes">
/* ä½¿ç”¨è‡ªå®šä¹‰æ¨¡å—å 'classes' */
.card {
  border: 1px solid #ddd;
}

.title {
  font-size: 18px;
}
</style>
```

### CSSé¢„å¤„ç†å™¨æ”¯æŒ

#### ä½¿ç”¨Sass/SCSS

```vue
<style lang="scss" scoped>
/* éœ€è¦å®‰è£…sassï¼šnpm install -D sass */
@import '@/styles/variables.scss';

.card {
  border: 1px solid $border-color;
  border-radius: $border-radius;
  padding: 16px;
  background: white;

  // åµŒå¥—è¯­æ³•
  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;

    .title {
      font-size: 18px;
      font-weight: bold;
      color: $text-primary;
    }

    .actions {
      display: flex;
      gap: 8px;

      .button {
        padding: 6px 12px;
        border: none;
        border-radius: 4px;
        cursor: pointer;

        &--primary {
          background: $primary-color;
          color: white;
        }

        &--secondary {
          background: $secondary-color;
          color: $text-primary;
        }

        &:hover {
          opacity: 0.8;
        }
      }
    }
  }
}
</style>
```

#### ä½¿ç”¨Less

```vue
<style lang="less" scoped>
/* éœ€è¦å®‰è£…lessï¼šnpm install -D less */
@import '@/styles/variables.less';

.card {
  border: 1px solid @border-color;
  border-radius: @border-radius;
  padding: 16px;

  .title {
    font-size: 18px;
    color: @text-color;

    &:hover {
      color: @primary-color;
    }
  }
}
</style>
```

### åŠ¨æ€æ ·å¼

#### ä½¿ç”¨CSSå˜é‡

```vue
<template>
  <div class="card" :style="{ '--card-bg': cardBg }">
    <h1 class="title" :style="titleStyle">æ ‡é¢˜</h1>
    <button
      :class="['button', buttonClass]"
      :style="buttonStyle"
    >
      æŒ‰é’®
    </button>
  </div>
</template>

<script setup>
import { ref, computed } from 'vue'

// åŠ¨æ€æ ·å¼å€¼
const cardBg = ref('#ffffff')
const titleStyle = computed(() => ({
  color: '#333333',
  fontSize: '18px',
  fontWeight: 'bold'
}))

const buttonClass = ref('button--primary')
const buttonStyle = computed(() => ({
  backgroundColor: buttonClass.value.includes('primary') ? '#42b883' : '#6c757d',
  color: 'white'
}))

// æ”¹å˜æ ·å¼
function changeTheme() {
  cardBg.value = '#f5f5f5'
  buttonClass.value = 'button--secondary'
}
</script>

<style scoped>
.card {
  background: var(--card-bg);
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 16px;
}

.button--primary {
  /* æ ·å¼ä¼šä¸buttonStyleåˆå¹¶ */
}

.button--secondary {
  /* æ ·å¼ä¼šä¸buttonStyleåˆå¹¶ */
}
</style>
```

---

## ğŸ—ï¸ ç»„ä»¶ç»„ç»‡æœ€ä½³å®è·µ

### æ–‡ä»¶ç»“æ„ç»„ç»‡

#### åŸºç¡€ç»„ä»¶ç»“æ„

```
components/
â”œâ”€â”€ base/              # åŸºç¡€ç»„ä»¶
â”‚   â”œâ”€â”€ BaseButton.vue
â”‚   â”œâ”€â”€ BaseInput.vue
â”‚   â”œâ”€â”€ BaseCard.vue
â”‚   â””â”€â”€ BaseModal.vue
â”œâ”€â”€ business/         # ä¸šåŠ¡ç»„ä»¶
â”‚   â”œâ”€â”€ UserProfile.vue
â”‚   â”œâ”€â”€ ProductCard.vue
â”‚   â””â”€â”€ OrderSummary.vue
â”œâ”€â”€ layout/           # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ AppHeader.vue
â”‚   â”œâ”€â”€ AppSidebar.vue
â”‚   â”œâ”€â”€ AppFooter.vue
â”‚   â””â”€â”€ AppLayout.vue
â””â”€â”€ ui/               # UIç»„ä»¶
    â”œâ”€â”€ LoadingSpinner.vue
    â”œâ”€â”€ ErrorMessage.vue
    â””â”€â”€ ConfirmDialog.vue
```

#### å•æ–‡ä»¶ç»„ä»¶å†…éƒ¨ç»„ç»‡

```vue
<!-- 1. æ¨¡æ¿ - ç»„ä»¶çš„ç»“æ„å±‚ -->
<template>
  <div class="user-profile">
    <!-- è¯­ä¹‰åŒ–çš„HTMLç»“æ„ -->
    <header class="user-profile__header">
      <UserAvatar :src="user.avatar" :size="large" />
      <UserInfo :user="user" />
    </header>

    <main class="user-profile__content">
      <slot></slot>
    </main>

    <footer class="user-profile__actions">
      <ActionButtons @edit="handleEdit" @delete="handleDelete" />
    </footer>
  </div>
</template>

<!-- 2. è„šæœ¬ - ç»„ä»¶çš„é€»è¾‘å±‚ -->
<script setup>
// ========================================
// 1. å¯¼å…¥ä¾èµ–
// ========================================
import { ref, computed, onMounted } from 'vue'
import UserAvatar from '@/components/base/UserAvatar.vue'
import UserInfo from '@/components/base/UserInfo.vue'
import ActionButtons from '@/components/base/ActionButtons.vue'

// ========================================
// 2. Propså®šä¹‰
// ========================================
const props = defineProps({
  user: {
    type: Object,
    required: true,
    validator: (user) => {
      return user.id && user.name
    }
  },
  editable: {
    type: Boolean,
    default: false
  }
})

// ========================================
// 3. Emitså®šä¹‰
// ========================================
const emit = defineEmits({
  edit: (user) => {
    // äº‹ä»¶éªŒè¯
    if (!user || !user.id) {
      console.warn('editäº‹ä»¶éœ€è¦æœ‰æ•ˆçš„ç”¨æˆ·å¯¹è±¡')
      return false
    }
    return true
  },
  delete: (userId) => typeof userId === 'number'
})

// ========================================
// 4. å“åº”å¼æ•°æ®
// ========================================
const isLoading = ref(false)
const error = ref(null)

// ========================================
// 5. è®¡ç®—å±æ€§
// ========================================
const userDisplayName = computed(() => {
  return props.user.displayName || props.user.name
})

const isEditable = computed(() => {
  return props.editable && !isLoading.value
})

// ========================================
// 6. æ–¹æ³•
// ========================================
async function handleEdit() {
  if (!isEditable.value) return

  try {
    isLoading.value = true
    await emit('edit', props.user)
  } catch (err) {
    error.value = err.message
  } finally {
    isLoading.value = false
  }
}

async function handleDelete() {
  if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªç”¨æˆ·å—ï¼Ÿ')) return

  try {
    isLoading.value = true
    await emit('delete', props.user.id)
  } catch (err) {
    error.value = err.message
  } finally {
    isLoading.value = false
  }
}

// ========================================
// 7. ç”Ÿå‘½å‘¨æœŸ
// ========================================
onMounted(() => {
  console.log(`ç”¨æˆ·èµ„æ–™ç»„ä»¶å·²åŠ è½½ï¼š${userDisplayName.value}`)
})

// ========================================
// 8. æš´éœ²ç»™çˆ¶ç»„ä»¶çš„å±æ€§å’Œæ–¹æ³•
// ========================================
defineExpose({
  refreshUserData: async () => {
    // å¯ä»¥è¢«çˆ¶ç»„ä»¶è°ƒç”¨çš„æ–¹æ³•
  },
  isLoading,
  error
})
</script>

<!-- 3. æ ·å¼ - ç»„ä»¶çš„è¡¨ç°å±‚ -->
<style scoped>
/* ========================================
// 1. ç»„ä»¶æ ·å¼ - ä½¿ç”¨BEMå‘½åè§„èŒƒ
// ======================================== */
.user-profile {
  border: 1px solid #e0e0e0;
  border-radius: 12px;
  overflow: hidden;
  background: white;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.user-profile__header {
  display: flex;
  align-items: center;
  padding: 20px;
  border-bottom: 1px solid #f0f0f0;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.user-profile__content {
  padding: 20px;
  min-height: 100px;
}

.user-profile__actions {
  padding: 16px 20px;
  border-top: 1px solid #f0f0f0;
  background: #fafafa;
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}

/* ========================================
// 2. å“åº”å¼è®¾è®¡
// ======================================== */
@media (max-width: 768px) {
  .user-profile__header {
    flex-direction: column;
    text-align: center;
  }

  .user-profile__actions {
    flex-direction: column;
  }
}

/* ========================================
// 3. çŠ¶æ€æ ·å¼
// ======================================== */
.user-profile--loading {
  opacity: 0.6;
  pointer-events: none;
}

.user-profile--error {
  border-color: #ff6b6b;
}
</style>
```

### ç»„ä»¶å‘½åè§„èŒƒ

#### æ–‡ä»¶å‘½å

```
âœ… æ¨èçš„å‘½åæ–¹å¼ï¼š
components/
â”œâ”€â”€ BaseButton.vue          # åŸºç¡€ç»„ä»¶ï¼šBase + åŠŸèƒ½å
â”œâ”€â”€ UserCard.vue           # ä¸šåŠ¡ç»„ä»¶ï¼šå®ä½“å + ç»„ä»¶ç±»å‹
â”œâ”€â”€ ProductList.vue        # åŠŸèƒ½ç»„ä»¶ï¼šåŠŸèƒ½å + ç»„ä»¶ç±»å‹
â”œâ”€â”€ LoadingSpinner.vue     # UIç»„ä»¶ï¼šçŠ¶æ€å + å…·ä½“å…ƒç´ 
â””â”€â”€ ConfirmDialog.vue      # å¯¹è¯æ¡†ï¼šç”¨é€”å + Dialog

âŒ ä¸æ¨èçš„å‘½åæ–¹å¼ï¼š
components/
â”œâ”€â”€ button.vue            # å°å†™ï¼Œä¸å¤Ÿæ˜ç¡®
â”œâ”€â”€ UserCardComponent.vue # é‡å¤Component
â”œâ”€â”€ product_list.vue      # ä¸‹åˆ’çº¿åˆ†éš”
â””â”€â”€ loading-spinner.vue   # çŸ­æ¨ªçº¿åˆ†éš”ï¼ˆéæ–‡ä»¶åï¼‰
```

#### ç»„ä»¶æ³¨å†Œå‘½å

```vue
<script setup>
// âœ… æ¨èï¼šä½¿ç”¨PascalCase
import BaseButton from '@/components/base/BaseButton.vue'
import UserCard from '@/components/business/UserCard.vue'
import LoadingSpinner from '@/components/ui/LoadingSpinner.vue'

// åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ï¼š
// <BaseButton />
// <UserCard />
// <LoadingSpinner />
</script>
```

---

## ğŸ“ æœ¬ç« å°ç»“

### âœ… æŒæ¡çš„æ ¸å¿ƒæ¦‚å¿µ

1. **å•æ–‡ä»¶ç»„ä»¶ç»“æ„** - Templateã€Scriptã€Styleä¸‰éƒ¨åˆ†ç»„æˆ
2. **`<script setup>`è¯­æ³•** - Vue 3æ¨èçš„ç®€æ´å†™æ³•
3. **å“åº”å¼æ•°æ®å¤„ç†** - refã€reactiveã€computedã€watch
4. **æ ·å¼ç®¡ç†** - scopedã€CSS Modulesã€é¢„å¤„ç†å™¨
5. **ç»„ä»¶ç»„ç»‡** - æ–‡ä»¶ç»“æ„ã€å‘½åè§„èŒƒã€æœ€ä½³å®è·µ

### ğŸ¯ å®è·µèƒ½åŠ›

- [ ] èƒ½å¤Ÿåˆ›å»ºç»“æ„æ¸…æ™°çš„å•æ–‡ä»¶ç»„ä»¶
- [ ] èƒ½å¤Ÿç†Ÿç»ƒä½¿ç”¨`<script setup>`è¯­æ³•
- [ ] èƒ½å¤Ÿç®¡ç†ç»„ä»¶çš„å“åº”å¼æ•°æ®
- [ ] èƒ½å¤Ÿæ­£ç¡®å¤„ç†ç»„ä»¶æ ·å¼ä½œç”¨åŸŸ
- [ ] èƒ½å¤ŸæŒ‰ç…§æœ€ä½³å®è·µç»„ç»‡ç»„ä»¶ç»“æ„

### ğŸš€ ä¸‹ä¸€æ­¥å­¦ä¹ 

æŒæ¡äº†å•æ–‡ä»¶ç»„ä»¶ç»“æ„åï¼Œç»§ç»­å­¦ä¹ ï¼š
- [[04-Vueç»„ä»¶Propsä¼ é€’æœºåˆ¶è¯¦è§£.md|ç»„ä»¶å±æ€§ä¼ é€’æœºåˆ¶]]
- [[05-Vueç»„ä»¶å¤ç”¨ä¸å®ä¾‹åŒ–è¯¦è§£.md|ç»„ä»¶å¤ç”¨å’Œå®ä¾‹ç®¡ç†]]
- [[06-Vueç»„ä»¶é€šä¿¡æœºåˆ¶è¯¦è§£.md|ç»„ä»¶é—´é€šä¿¡æ–¹å¼]]

---

## ğŸ’¡ SFCå¼€å‘é‡‘ç§‘ç‰å¾‹

1. **å•ä¸€èŒè´£** - ä¸€ä¸ªç»„ä»¶åªåšä¸€ä»¶äº‹ï¼Œåšå¥½ä¸€ä»¶äº‹
2. **è¯­ä¹‰åŒ–HTML** - ä½¿ç”¨æœ‰æ„ä¹‰çš„HTMLæ ‡ç­¾ç»“æ„
3. **æ ·å¼éš”ç¦»** - å§‹ç»ˆä½¿ç”¨scopedæˆ–CSS Modules
4. **ç»„ä»¶å¤ç”¨** - è®¾è®¡å¯é…ç½®ã€å¯å¤ç”¨çš„ç»„ä»¶æ¥å£
5. **æ€§èƒ½è€ƒè™‘** - åˆç†ä½¿ç”¨computedå’Œwatchï¼Œé¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“

**è®°ä½ï¼šå¥½çš„ç»„ä»¶ç»“æ„æ˜¯å¯ç»´æŠ¤ä»£ç çš„åŸºç¡€ï¼** ğŸ‰