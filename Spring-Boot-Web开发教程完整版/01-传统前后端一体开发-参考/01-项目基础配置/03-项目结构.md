# Spring Booté¡¹ç›®ç»“æ„è¯¦è§£

## ğŸ“‹ å­¦ä¹ ç›®æ ‡

- ç†è§£Spring Booté¡¹ç›®çš„æ ‡å‡†ç›®å½•ç»“æ„
- æŒæ¡å„ç›®å½•å’Œæ–‡ä»¶çš„ä½œç”¨
- å­¦ä¼šç»„ç»‡é¡¹ç›®ä»£ç çš„æœ€ä½³å®è·µ

## ğŸ—ï¸ æ ‡å‡†é¡¹ç›®ç»“æ„

```
SpringWeb/
â”œâ”€â”€ .idea/                          # IntelliJ IDEAé…ç½®æ–‡ä»¶
â”œâ”€â”€ .mvn/                           # MavenåŒ…è£…å™¨é…ç½®
â”‚   â”œâ”€â”€ wrapper/
â”‚   â”‚   â”œâ”€â”€ maven-wrapper.jar
â”‚   â”‚   â””â”€â”€ maven-wrapper.properties
â”œâ”€â”€ src/                            # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ main/                       # ä¸»è¦æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ java/                   # Javaæºä»£ç 
â”‚   â”‚   â”‚   â””â”€â”€ com/
â”‚   â”‚   â”‚       â””â”€â”€ cmliy/
â”‚   â”‚   â”‚           â””â”€â”€ springweb/  # é¡¹ç›®æ ¹åŒ…
â”‚   â”‚   â”‚               â”œâ”€â”€ SpringWebApplication.java  # ä¸»å¯åŠ¨ç±»
â”‚   â”‚   â”‚               â”œâ”€â”€ controller/  # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”‚               â”œâ”€â”€ service/     # æœåŠ¡å±‚
â”‚   â”‚   â”‚               â”œâ”€â”€ repository/  # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”‚               â”œâ”€â”€ entity/      # å®ä½“ç±»
â”‚   â”‚   â”‚               â”œâ”€â”€ dto/         # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”‚               â”œâ”€â”€ config/      # é…ç½®ç±»
â”‚   â”‚   â”‚               â”œâ”€â”€ exception/   # å¼‚å¸¸å¤„ç†
â”‚   â”‚   â”‚               â””â”€â”€ util/        # å·¥å…·ç±»
â”‚   â”‚   â””â”€â”€ resources/                # èµ„æºæ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ static/               # é™æ€èµ„æº
â”‚   â”‚       â”‚   â”œâ”€â”€ css/              # æ ·å¼æ–‡ä»¶
â”‚   â”‚       â”‚   â”œâ”€â”€ js/               # JavaScriptæ–‡ä»¶
â”‚   â”‚       â”‚   â””â”€â”€ images/           # å›¾ç‰‡èµ„æº
â”‚   â”‚       â”œâ”€â”€ templates/            # æ¨¡æ¿æ–‡ä»¶
â”‚   â”‚       â”‚   â”œâ”€â”€ user/             # ç”¨æˆ·ç›¸å…³æ¨¡æ¿
â”‚   â”‚       â”‚   â”œâ”€â”€ layout/           # å¸ƒå±€æ¨¡æ¿
â”‚   â”‚       â”‚   â””â”€â”€ fragments/        # ç‰‡æ®µæ¨¡æ¿
â”‚   â”‚       â”œâ”€â”€ application.properties  # ä¸»é…ç½®æ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ application-dev.properties  # å¼€å‘ç¯å¢ƒé…ç½®
â”‚   â”‚       â”œâ”€â”€ application-prod.properties # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”‚   â”‚       â””â”€â”€ logback-spring.xml    # æ—¥å¿—é…ç½®
â”‚   â””â”€â”€ test/                         # æµ‹è¯•ä»£ç 
â”‚       â””â”€â”€ java/
â”‚           â””â”€â”€ com/
â”‚               â””â”€â”€ cmliy/
â”‚                   â””â”€â”€ springweb/
â”‚                       â”œâ”€â”€ SpringWebApplicationTests.java
â”‚                       â”œâ”€â”€ controller/  # æ§åˆ¶å™¨æµ‹è¯•
â”‚                       â”œâ”€â”€ service/     # æœåŠ¡å±‚æµ‹è¯•
â”‚                       â””â”€â”€ repository/  # æ•°æ®è®¿é—®å±‚æµ‹è¯•
â”œâ”€â”€ target/                           # ç¼–è¯‘è¾“å‡ºç›®å½•
â”œâ”€â”€ logs/                             # æ—¥å¿—æ–‡ä»¶ç›®å½•
â”œâ”€â”€ pom.xml                           # Mavené…ç½®æ–‡ä»¶
â”œâ”€â”€ .gitignore                        # Gitå¿½ç•¥æ–‡ä»¶
â””â”€â”€ README.md                         # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸ“ æ ¸å¿ƒç›®å½•è¯¦è§£

### 1. ä¸»å¯åŠ¨ç±» (SpringWebApplication.java)

```java
package com.cmliy.springweb;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication  // æ ¸å¿ƒæ³¨è§£ï¼ŒåŒ…å«ä¸‰ä¸ªåŠŸèƒ½
public class SpringWebApplication {
    public static void main(String[] args) {
        SpringApplication.run(SpringWebApplication.class, args);
    }
}
```

**@SpringBootApplication æ³¨è§£åŒ…å«**:
- `@Configuration`: æ ‡è¯†ä¸ºé…ç½®ç±»
- `@EnableAutoConfiguration`: å¯ç”¨è‡ªåŠ¨é…ç½®
- `@ComponentScan`: è‡ªåŠ¨æ‰«æç»„ä»¶

### 2. Controllerå±‚ (æ§åˆ¶å™¨)

**ä½œç”¨**: å¤„ç†HTTPè¯·æ±‚ï¼Œæ§åˆ¶åº”ç”¨ç¨‹åºæµç¨‹

**ä½ç½®**: `src/main/java/com/cmliy/springweb/controller/`

**ç¤ºä¾‹ç»“æ„**:
```java
@Controller
@RequestMapping("/users")
public class UserController {

    @Autowired
    private UserService userService;

    @GetMapping
    public String listUsers(Model model) {
        // å¤„ç†ç”¨æˆ·åˆ—è¡¨è¯·æ±‚
        return "user/list";
    }
}
```

### 3. Serviceå±‚ (æœåŠ¡å±‚)

**ä½œç”¨**: å®ç°ä¸šåŠ¡é€»è¾‘ï¼Œå¤„ç†å¤æ‚ä¸šåŠ¡è§„åˆ™

**ä½ç½®**: `src/main/java/com/cmliy/springweb/service/`

**ç¤ºä¾‹ç»“æ„**:
```java
@Service
@Transactional
public class UserServiceImpl implements UserService {

    @Autowired
    private UserRepository userRepository;

    // ä¸šåŠ¡é€»è¾‘å®ç°
}
```

### 4. Repositoryå±‚ (æ•°æ®è®¿é—®å±‚)

**ä½œç”¨**: æ•°æ®åº“è®¿é—®ï¼Œæ‰§è¡ŒCRUDæ“ä½œ

**ä½ç½®**: `src/main/java/com/cmliy/springweb/repository/`

**ç¤ºä¾‹ç»“æ„**:
```java
@Repository
public interface UserRepository extends JpaRepository<User, Long> {

    List<User> findByUsername(String username);
}
```

### 5. Entityå±‚ (å®ä½“ç±»)

**ä½œç”¨**: æ˜ å°„æ•°æ®åº“è¡¨çš„Javaå¯¹è±¡

**ä½ç½®**: `src/main/java/com/cmliy/springweb/entity/`

**ç¤ºä¾‹ç»“æ„**:
```java
@Entity
@Table(name = "users")
public class User {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(nullable = false, unique = true)
    private String username;
}
```

### 6. DTOå±‚ (æ•°æ®ä¼ è¾“å¯¹è±¡)

**ä½œç”¨**: åœ¨ä¸åŒå±‚ä¹‹é—´ä¼ è¾“æ•°æ®ï¼Œé¿å…æš´éœ²å®ä½“

**ä½ç½®**: `src/main/java/com/cmliy/springweb/dto/`

**ç¤ºä¾‹ç»“æ„**:
```java
@Data
public class UserDTO {
    private Long id;
    private String username;
    private String email;
}
```

## ğŸ“‚ èµ„æºæ–‡ä»¶ç»“æ„

### 1. staticç›®å½• (é™æ€èµ„æº)

```
static/
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ bootstrap.min.css     # Bootstrapæ ·å¼
â”‚   â”œâ”€â”€ main.css             # è‡ªå®šä¹‰ä¸»æ ·å¼
â”‚   â””â”€â”€ components.css       # ç»„ä»¶æ ·å¼
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ bootstrap.min.js     # Bootstrapè„šæœ¬
â”‚   â”œâ”€â”€ jquery.min.js        # jQueryåº“
â”‚   â””â”€â”€ main.js              # è‡ªå®šä¹‰è„šæœ¬
â””â”€â”€ images/
    â”œâ”€â”€ logo.png             # ç½‘ç«™Logo
    â””â”€â”€ user-avatar/         # ç”¨æˆ·å¤´åƒ
```

### 2. templatesç›®å½• (æ¨¡æ¿æ–‡ä»¶)

```
templates/
â”œâ”€â”€ layout/
â”‚   â”œâ”€â”€ header.html          # é¡µé¢å¤´éƒ¨
â”‚   â”œâ”€â”€ footer.html          # é¡µé¢å°¾éƒ¨
â”‚   â””â”€â”€ main.html            # ä¸»å¸ƒå±€
â”œâ”€â”€ fragments/
â”‚   â”œâ”€â”€ navbar.html          # å¯¼èˆªæ ç‰‡æ®µ
â”‚   â””â”€â”€ pagination.html      # åˆ†é¡µç‰‡æ®µ
â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ list.html            # ç”¨æˆ·åˆ—è¡¨é¡µ
â”‚   â”œâ”€â”€ form.html            # ç”¨æˆ·è¡¨å•é¡µ
â”‚   â””â”€â”€ detail.html          # ç”¨æˆ·è¯¦æƒ…é¡µ
â””â”€â”€ error/
    â”œâ”€â”€ 404.html             # 404é”™è¯¯é¡µ
    â””â”€â”€ 500.html             # 500é”™è¯¯é¡µ
```

### 3. é…ç½®æ–‡ä»¶

#### application.properties (ä¸»é…ç½®)
```properties
# åº”ç”¨åŸºæœ¬é…ç½®
spring.application.name=SpringWeb
server.port=8080

# æ•°æ®åº“é…ç½®
spring.datasource.url=jdbc:mysql://localhost:3306/springweb
spring.datasource.username=springweb
spring.datasource.password=springweb123

# JPAé…ç½®
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
```

#### application-dev.properties (å¼€å‘ç¯å¢ƒ)
```properties
# å¼€å‘ç¯å¢ƒç‰¹å®šé…ç½®
spring.jpa.show-sql=true
logging.level.com.cmliy.springweb=DEBUG
```

#### application-prod.properties (ç”Ÿäº§ç¯å¢ƒ)
```properties
# ç”Ÿäº§ç¯å¢ƒç‰¹å®šé…ç½®
spring.jpa.show-sql=false
logging.level.com.cmliy.springweb=INFO
```

## ğŸ§ª æµ‹è¯•ç›®å½•ç»“æ„

```
test/java/com/cmliy/springweb/
â”œâ”€â”€ SpringWebApplicationTests.java           # åº”ç”¨å¯åŠ¨æµ‹è¯•
â”œâ”€â”€ controller/
â”‚   â”œâ”€â”€ UserControllerTest.java              # æ§åˆ¶å™¨æµ‹è¯•
â”‚   â””â”€â”€ GlobalExceptionHandlerTest.java      # å¼‚å¸¸å¤„ç†æµ‹è¯•
â”œâ”€â”€ service/
â”‚   â”œâ”€â”€ UserServiceTest.java                 # æœåŠ¡å±‚æµ‹è¯•
â”‚   â””â”€â”€ UserServiceImplTest.java             # æœåŠ¡å®ç°æµ‹è¯•
â””â”€â”€ repository/
    â””â”€â”€ UserRepositoryTest.java              # æ•°æ®è®¿é—®å±‚æµ‹è¯•
```

## ğŸ“ åŒ…å‘½åè§„èŒƒ

### 1. åŸºç¡€åŒ…ç»“æ„
```
com.cmliy.springweb/
â”œâ”€â”€ controller/      # æ§åˆ¶å™¨å±‚
â”œâ”€â”€ service/         # æœåŠ¡æ¥å£
â”œâ”€â”€ service/impl/    # æœåŠ¡å®ç°
â”œâ”€â”€ repository/      # æ•°æ®è®¿é—®å±‚
â”œâ”€â”€ entity/          # å®ä½“ç±»
â”œâ”€â”€ dto/             # æ•°æ®ä¼ è¾“å¯¹è±¡
â”œâ”€â”€ config/          # é…ç½®ç±»
â”œâ”€â”€ exception/       # è‡ªå®šä¹‰å¼‚å¸¸
â”œâ”€â”€ util/            # å·¥å…·ç±»
â””â”€â”€ constants/       # å¸¸é‡ç±»
```

### 2. å‘½åçº¦å®š

| å±‚çº§ | å‘½åæ¨¡å¼ | ç¤ºä¾‹ |
|------|----------|------|
| Controller | XXXController | UserController |
| Service | XXXService | UserService |
| Service Impl | XXXServiceImpl | UserServiceImpl |
| Repository | XXXRepository | UserRepository |
| Entity | XXX | User |
| DTO | XXXDTO | UserDTO |
| Config | XXXConfig | DatabaseConfig |

## ğŸ¯ æœ€ä½³å®è·µ

### 1. åˆ†å±‚åŸåˆ™
- **Controller**: åªå¤„ç†HTTPè¯·æ±‚å“åº”ï¼Œä¸åŒ…å«ä¸šåŠ¡é€»è¾‘
- **Service**: åŒ…å«ä¸šåŠ¡é€»è¾‘ï¼Œè°ƒç”¨Repository
- **Repository**: åªè´Ÿè´£æ•°æ®è®¿é—®ï¼Œä¸åŒ…å«ä¸šåŠ¡é€»è¾‘

### 2. ä¾èµ–æ³¨å…¥
- ä½¿ç”¨`@Autowired`æˆ–æ„é€ å™¨æ³¨å…¥
- æ¨èä½¿ç”¨æ„é€ å™¨æ³¨å…¥ï¼ˆSpring 4.3+å¯çœç•¥æ³¨è§£ï¼‰

### 3. é…ç½®ç®¡ç†
- ä½¿ç”¨`@Configuration`ç±»ç®¡ç†é…ç½®
- å¤–éƒ¨åŒ–é…ç½®ï¼Œé¿å…ç¡¬ç¼–ç 

### 4. å¼‚å¸¸å¤„ç†
- ä½¿ç”¨`@ControllerAdvice`å…¨å±€å¼‚å¸¸å¤„ç†
- è‡ªå®šä¹‰ä¸šåŠ¡å¼‚å¸¸ç±»

## ğŸ” IDEé…ç½®å»ºè®®

### 1. IntelliJ IDEAè®¾ç½®
- è®¾ç½®é¡¹ç›®ç¼–ç ä¸ºUTF-8
- å¯ç”¨æ³¨è§£å¤„ç†å™¨ï¼ˆLombokï¼‰
- é…ç½®ä»£ç æ ¼å¼åŒ–è§„åˆ™

### 2. Mavené…ç½®
- ç¡®ä¿Mavenç‰ˆæœ¬å…¼å®¹
- é…ç½®é•œåƒæºï¼ˆå¯é€‰ï¼‰

## âœ… æ£€æŸ¥ç‚¹

å®Œæˆæœ¬èŠ‚å­¦ä¹ åï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿï¼š

- [ ] ç†è§£Spring Bootçš„æ ‡å‡†ç›®å½•ç»“æ„
- [ ] çŸ¥é“å„å±‚çš„ä½œç”¨å’ŒèŒè´£
- [ ] æŒæ¡åŒ…å‘½åè§„èŒƒ
- [ ] äº†è§£èµ„æºæ–‡ä»¶çš„ç»„ç»‡æ–¹å¼
- [ ] èƒ½å¤Ÿåˆç†è§„åˆ’é¡¹ç›®ç»“æ„

## ğŸš€ ä¸‹ä¸€æ­¥

é¡¹ç›®ç»“æ„æ¸…æ™°åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†è¿›å…¥ï¼š
[æ•°æ®å±‚å¼€å‘ - åˆ›å»ºå®ä½“ç±»Entity](../02-æ•°æ®å±‚å¼€å‘/01-å®ä½“ç±»è®¾è®¡.md)

---

**æç¤º**: è‰¯å¥½çš„é¡¹ç›®ç»“æ„æ˜¯å¯ç»´æŠ¤ä»£ç çš„åŸºç¡€ï¼Œå»ºè®®ä¸¥æ ¼æŒ‰ç…§åˆ†å±‚åŸåˆ™ç»„ç»‡ä»£ç ã€‚